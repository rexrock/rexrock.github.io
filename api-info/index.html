{"posts":[{"fileName":"ovn1","abstract":"","description":"部署：https://www.jianshu.com/p/9619751f757a 源码：https://gobomb.github.io/post/learning-k8s-networking-reading-ovn-kubernete...","title":"‘OVN实践’","tags":[{"name":"K8S-NET，OVN","slug":"3AW1N_bqg","used":true,"link":"https://rexrock.github.io/tag/3AW1N_bqg/"}],"feature":"","link":"https://rexrock.github.io/post/ovn1/","stats":{"text":"1 min read","time":7000,"words":22,"minutes":1},"isTop":false,"toc":"","date":"2022-03-09 10:21:00","dateFormat":"2022-03-09"},{"fileName":"82599","abstract":"","description":"最近在一批比较老的服务器上部署了vhostuser类型的虚拟机，虚拟机创建后发现无法对外通信，经排查发现物理网卡未能成功执行offload操作，发出报文的inner_tcp_csum是错的，导致被对端或网关丢包。初步怀疑是网卡固件版本太低导...","title":"DELL服务器升级82599网卡固件版本","tags":[{"name":"Firmware","slug":"iJaBbvbdGn","used":true,"link":"https://rexrock.github.io/tag/iJaBbvbdGn/"}],"feature":"","link":"https://rexrock.github.io/post/82599/","stats":{"text":"2 min read","time":66000,"words":287,"minutes":2},"isTop":false,"toc":"","date":"2021-07-05 12:31:00","dateFormat":"2021-07-05"},{"fileName":"linux1","abstract":"","description":"参考：https://help.ubuntu.com/community/BackupYourSystem/TAR 1. 备份 没什么好讲的，就是打个tar包 cd / # THIS CD IS IMPORTANT THE FOLLOWIN...","title":"linux系统备份恢复","tags":[{"name":"Linux","slug":"XfTrCXKyh","used":true,"link":"https://rexrock.github.io/tag/XfTrCXKyh/"}],"feature":"","link":"https://rexrock.github.io/post/linux1/","stats":{"text":"2 min read","time":117000,"words":470,"minutes":2},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E5%A4%87%E4%BB%BD\">1. 备份</a></li>\n<li><a href=\"#2-%E6%81%A2%E5%A4%8D\">2. 恢复</a></li>\n</ul>\n</li>\n</ul>\n","date":"2021-06-18 10:31:00","dateFormat":"2021-06-18"},{"fileName":"rpm1","abstract":"","description":"参考：https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html-single/rpm_packaging_guide/index 1. 安装必...","title":"制作RPM包","tags":[{"name":"RPM","slug":"xuHKBCoat1","used":true,"link":"https://rexrock.github.io/tag/xuHKBCoat1/"}],"feature":"","link":"https://rexrock.github.io/post/rpm1/","stats":{"text":"2 min read","time":109000,"words":405,"minutes":2},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E5%AE%89%E8%A3%85%E5%BF%85%E8%A6%81%E7%9A%84%E5%B7%A5%E5%85%B7\">1. 安装必要的工具</a></li>\n<li><a href=\"#2-%E5%88%9B%E5%BB%BA%E7%BC%96%E8%AF%91%E7%9B%AE%E5%BD%95\">2. 创建编译目录</a>\n<ul>\n<li><a href=\"#3-%E5%88%9B%E5%BB%BAspec%E6%96%87%E4%BB%B6\">3. 创建spec文件</a></li>\n</ul>\n</li>\n<li><a href=\"#4-%E6%89%A7%E8%A1%8Crpmbuild%E5%BC%80%E5%A7%8B%E6%89%93%E5%8C%85\">4. 执行rpmbuild开始打包</a></li>\n</ul>\n</li>\n</ul>\n","date":"2021-06-18 09:31:00","dateFormat":"2021-06-18"},{"fileName":"af_xdp2","abstract":"","description":"目前 ovs、dpdk、cilium均对 AF_XDP 做了支持，这是否预示在高性能报文转发方面 AF_XDP未来将成为DPDK外又一重要技术分支？加之AF_XDP跟内核更好的配合，随着技术不断程序，AF_XDP是否会全面超越甚至取代DPD...","title":"AF_XDP VS DPDK","tags":[{"index":-1,"name":"XDP","slug":"37FuJFu1i","used":true,"link":"https://rexrock.github.io/tag/37FuJFu1i/"},{"name":"eBPF","slug":"1emxgPk46","used":true,"link":"https://rexrock.github.io/tag/1emxgPk46/"}],"feature":"","link":"https://rexrock.github.io/post/af_xdp2/","stats":{"text":"5 min read","time":291000,"words":910,"minutes":5},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E6%B5%8B%E8%AF%95%E6%8B%93%E6%89%91\">1. 测试拓扑</a></li>\n<li><a href=\"#2-%E8%BD%AF%E4%BB%B6%E7%89%88%E6%9C%AC\">2. 软件版本</a></li>\n<li><a href=\"#3-ovs%E9%85%8D%E7%BD%AE\">3. OVS配置</a></li>\n<li><a href=\"#4-node%E9%85%8D%E7%BD%AE\">4. NODE配置</a></li>\n<li><a href=\"#5-%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C\">5. 测试结果</a>\n<ul>\n<li><a href=\"#51-throughput\">5.1 Throughput</a></li>\n<li><a href=\"#52-pps\">5.2 PPS</a></li>\n<li><a href=\"#53-latency\">5.3 Latency</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2021-03-03 12:32:00","dateFormat":"2021-03-03"},{"fileName":"af_xdp1","abstract":"","description":"AF_XDP是一个协议族（例如AF_NET），主要用于高性能报文处理。 前文XDP技术简介中提到过，通过XDP_REDIRECT我们可以将报文重定向到其他设备发送出去或者重定向到其他的CPU继续进行处理。而AF_XDP则利用 bpf_red...","title":"AF_XDP技术详解","tags":[{"index":-1,"name":"XDP","slug":"37FuJFu1i","used":true,"link":"https://rexrock.github.io/tag/37FuJFu1i/"},{"name":"eBPF","slug":"1emxgPk46","used":true,"link":"https://rexrock.github.io/tag/1emxgPk46/"}],"feature":"","link":"https://rexrock.github.io/post/af_xdp1/","stats":{"text":"21 min read","time":1253000,"words":4701,"minutes":21},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E7%94%A8%E6%88%B7%E6%80%81%E7%A8%8B%E5%BA%8F\">1. 用户态程序</a>\n<ul>\n<li><a href=\"#11-%E5%88%9B%E5%BB%BAaf_xdp%E7%9A%84socket\">1.1 创建AF_XDP的socket</a></li>\n<li><a href=\"#12-%E4%B8%BAumem%E7%94%B3%E8%AF%B7%E5%86%85%E5%AD%98\">1.2 为UMEM申请内存</a></li>\n<li><a href=\"#13-%E5%90%91af_xdp-socket%E6%B3%A8%E5%86%8Cumem\">1.3 向AF_XDP socket注册UMEM</a></li>\n<li><a href=\"#14-%E5%88%9B%E5%BB%BAfill-ring-%E5%92%8C-completion-ring\">1.4 创建FILL RING 和 COMPLETION RING</a></li>\n<li><a href=\"#15-%E5%B0%86fill-ring-%E6%98%A0%E5%B0%84%E5%88%B0%E7%94%A8%E6%88%B7%E6%80%81\">1.5 将FILL RING 映射到用户态</a></li>\n<li><a href=\"#16-%E5%B0%86completion-ring-%E6%98%A0%E5%B0%84%E5%88%B0%E7%94%A8%E6%88%B7%E6%80%81\">1.6 将COMPLETION RING 映射到用户态</a></li>\n<li><a href=\"#17-%E5%88%9B%E5%BB%BArx-ring%E5%92%8Ctx-ring%E7%84%B6%E5%90%8Emmap\">1.7 创建RX RING和TX RING然后mmap</a></li>\n<li><a href=\"#18-%E8%B0%83%E7%94%A8bind%E5%B0%86af_xdp-socket%E7%BB%91%E5%AE%9A%E7%9A%84%E6%8C%87%E5%AE%9A%E8%AE%BE%E5%A4%87%E7%9A%84%E6%9F%90%E4%B8%80%E9%98%9F%E5%88%97\">1.8 调用bind()将AF_XDP socket绑定的指定设备的某一队列</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%86%85%E6%A0%B8%E6%80%81%E7%A8%8B%E5%BA%8F\">2. 内核态程序</a>\n<ul>\n<li><a href=\"#21-%E5%88%9B%E5%BB%BAbpf_map_type_xskmap%E7%B1%BB%E5%9E%8B%E7%9A%84map\">2.1 创建BPF_MAP_TYPE_XSKMAP类型的map</a></li>\n<li><a href=\"#22-xdp%E7%A8%8B%E5%BA%8F%E4%BB%A3%E7%A0%81\">2.2 XDP程序代码</a></li>\n<li><a href=\"#23-xdp%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%8A%A0%E8%BD%BD\">2.3 XDP程序的加载</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E5%9B%9E%E5%88%B0%E7%94%A8%E6%88%B7%E6%80%81%E8%AE%A9%E7%A8%8B%E5%BA%8Frun%E8%B5%B7%E6%9D%A5\">3. 回到用户态，让程序run起来</a>\n<ul>\n<li><a href=\"#31-%E5%B0%86af_xdp-socket%E5%AD%98%E5%82%A8%E5%88%B0xskmap%E4%B8%AD\">3.1 将AF_XDP socket存储到XSKMAP中</a></li>\n<li><a href=\"#32-%E6%A0%87%E9%A2%98%E5%85%88%E5%8D%96%E4%B8%AA%E5%85%B3%E5%AD%90\">3.2 标题先卖个关子</a>\n<ul>\n<li><a href=\"#321-%E5%85%88%E7%9C%8B%E6%94%B6%E5%8C%85\">3.2.1 先看收包</a></li>\n<li><a href=\"#322-%E5%86%8D%E7%9C%8B%E5%8F%91%E5%8C%85\">3.2.2 再看发包</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#4-%E6%94%B6%E5%8C%85%E6%B5%81%E7%A8%8B%E8%A7%A3%E6%9E%90\">4. 收包流程解析</a></li>\n<li><a href=\"#5-%E7%BB%93%E8%AF%AD\">5. 结语</a></li>\n</ul>\n</li>\n</ul>\n","date":"2021-03-03 12:31:00","dateFormat":"2021-03-03"},{"fileName":"k8s3","abstract":"","description":"官方文档： https://istio.io/latest/zh/docs/setup/getting-started/ 1. 下载istio安装包 https://github.com/istio/istio/releases/tag/1...","title":"使用istio + servicemesh搭建服务网格","tags":[{"index":-1,"name":"K8S","slug":"SNvVFY1lM","used":true,"link":"https://rexrock.github.io/tag/SNvVFY1lM/"}],"feature":"","link":"https://rexrock.github.io/post/k8s3/","stats":{"text":"3 min read","time":158000,"words":554,"minutes":3},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E4%B8%8B%E8%BD%BDistio%E5%AE%89%E8%A3%85%E5%8C%85\">1. 下载istio安装包</a></li>\n<li><a href=\"#2-%E9%80%9A%E8%BF%87istioctl%E5%AE%89%E8%A3%85\">2. 通过istioctl安装</a></li>\n<li><a href=\"#3-sidecar%E6%B3%A8%E5%85%A5\">3. Sidecar注入</a>\n<ul>\n<li><a href=\"#31-%E6%89%8B%E5%8A%A8%E6%B3%A8%E5%85%A5\">3.1 手动注入</a></li>\n<li><a href=\"#32-%E8%87%AA%E5%8A%A8%E6%B3%A8%E5%85%A5\">3.2 自动注入</a></li>\n<li><a href=\"#33-%E8%87%AA%E5%8A%A8%E6%B3%A8%E5%85%A5%E4%B8%8D%E7%94%9F%E6%95%88%E6%80%8E%E4%B9%88%E5%8A%9E\">3.3 自动注入不生效怎么办</a></li>\n</ul>\n</li>\n<li><a href=\"#4-%E5%BC%80%E5%90%AFboth-sidecar\">4. 开启both sidecar</a></li>\n</ul>\n</li>\n</ul>\n","date":"2021-03-03 11:33:00","dateFormat":"2021-03-03"},{"fileName":"k8s2","abstract":"","description":"1. 安装kubebuilder 建议源码安装更容易些： git clone https://github.com/kubernetes-sigs/kubebuilder.git cd kubebuilder/ make install ....","title":"使用kubebuilder创建CRD及Controller","tags":[{"index":-1,"name":"K8S","slug":"SNvVFY1lM","used":true,"link":"https://rexrock.github.io/tag/SNvVFY1lM/"}],"feature":"","link":"https://rexrock.github.io/post/k8s2/","stats":{"text":"3 min read","time":123000,"words":414,"minutes":3},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E5%AE%89%E8%A3%85kubebuilder\">1. 安装kubebuilder</a></li>\n<li><a href=\"#2-%E4%BD%BF%E7%94%A8kubebuilder%E5%88%9B%E5%BB%BAcrd%E5%8F%8Acontroller\">2. 使用kubebuilder创建CRD及Controller</a>\n<ul>\n<li><a href=\"#21-%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C\">2.1 准备工作</a></li>\n<li><a href=\"#22-%E5%88%9B%E5%BB%BAproject\">2.2 创建PROJECT</a></li>\n<li><a href=\"#23-%E5%88%9B%E5%BB%BAapi\">2.3 创建API</a></li>\n<li><a href=\"#24-install-the-crds-into-the-cluster\">2.4 Install the CRDs into the cluster</a></li>\n<li><a href=\"#25-%E5%9C%A8%E6%9C%AC%E5%9C%B0%E8%BF%90%E8%A1%8Ccontroller\">2.5 在本地运行Controller</a></li>\n<li><a href=\"#26-%E5%88%9B%E5%BB%BAresource-of-crd\">2.6 创建Resource of CRD</a></li>\n<li><a href=\"#27-%E7%BC%96%E8%AF%91%E6%89%93%E5%8C%85\">2.7 编译打包</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E5%88%9B%E5%BB%BAcore-resource%E7%9A%84controller\">3. 创建Core Resource的controller</a></li>\n</ul>\n</li>\n</ul>\n","date":"2021-03-03 11:32:00","dateFormat":"2021-03-03"},{"fileName":"k8s1","abstract":"","description":"官方文档： Installing kubeadm Creating a cluster with kubeadm 参考： 使用kubeadm安装Kubernetes 1.11 Kubernetes kubectl run 命令详解 k8s的...","title":"使用kubeadm搭建一个k8s集群","tags":[{"index":-1,"name":"K8S","slug":"SNvVFY1lM","used":true,"link":"https://rexrock.github.io/tag/SNvVFY1lM/"}],"feature":"","link":"https://rexrock.github.io/post/k8s1/","stats":{"text":"8 min read","time":468000,"words":1452,"minutes":8},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E5%AE%89%E8%A3%85docker\">1. 安装docker</a></li>\n<li><a href=\"#2-%E5%AE%89%E8%A3%85kubeadm-kubelet-kubectl\">2. 安装kubeadm、kubelet、kubectl</a></li>\n<li><a href=\"#3-cgroup%E8%AE%BE%E7%BD%AE\">3. Cgroup设置</a></li>\n<li><a href=\"#4-%E6%97%A0%E7%BD%91%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2k8s%E9%9B%86%E7%BE%A4\">4. 无网环境部署k8s集群</a></li>\n<li><a href=\"#5-%E5%88%9D%E5%A7%8B%E5%8C%96master%E8%8A%82%E7%82%B9\">5. 初始化master节点</a></li>\n<li><a href=\"#6-%E4%B8%BA%E4%BA%86%E5%8F%AF%E4%BB%A5%E6%89%A7%E8%A1%8Ckubectl\">6. 为了可以执行kubectl</a></li>\n<li><a href=\"#7-%E5%AE%89%E8%A3%85pod-network\">7. 安装pod network</a></li>\n<li><a href=\"#8-%E6%B7%BB%E5%8A%A0worker%E8%8A%82%E7%82%B9\">8. 添加worker节点</a></li>\n<li><a href=\"#9-%E5%88%A0%E9%99%A4worker%E8%8A%82%E7%82%B9\">9. 删除worker节点</a></li>\n<li><a href=\"#10-%E5%88%A0%E9%99%A4master%E8%8A%82%E7%82%B9\">10. 删除master节点</a></li>\n<li><a href=\"#11-%E5%BC%80%E5%90%AF%E5%85%B3%E9%97%ADdns\">11 开启关闭dns</a></li>\n<li><a href=\"#12-%E8%AE%A9master%E8%8A%82%E7%82%B9%E4%B9%9F%E5%8F%AF%E4%BB%A5%E8%B0%83%E5%BA%A6pod\">12. 让master节点也可以调度pod</a></li>\n</ul>\n</li>\n</ul>\n","date":"2021-03-03 11:31:00","dateFormat":"2021-03-03"},{"fileName":"xdp1","abstract":"","description":"1. XDP程序的运行位置 XDP（eXpress Data Path）提供了一个内核态、高性能、可编程 BPF 包处理框架。这个框架在软件中最早可以处理包的位置（即网卡驱动收到包的 时刻）运行 BPF 程序。如下图所示： NAPI po...","title":"XDP技术简介","tags":[{"index":-1,"name":"XDP","slug":"37FuJFu1i","used":true,"link":"https://rexrock.github.io/tag/37FuJFu1i/"},{"name":"eBPF","slug":"1emxgPk46","used":true,"link":"https://rexrock.github.io/tag/1emxgPk46/"}],"feature":"","link":"https://rexrock.github.io/post/xdp1/","stats":{"text":"8 min read","time":458000,"words":1669,"minutes":8},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-xdp%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%BF%90%E8%A1%8C%E4%BD%8D%E7%BD%AE\">1. XDP程序的运行位置</a></li>\n<li><a href=\"#2-xdp%E7%9A%84%E4%B8%89%E7%A7%8D%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F\">2. XDP的三种工作模式</a></li>\n<li><a href=\"#3-xdp%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%BF%94%E5%9B%9E%E7%A0%81\">3. XDP程序的返回码</a></li>\n</ul>\n</li>\n</ul>\n","date":"2021-03-03 10:51:00","dateFormat":"2021-03-03"},{"fileName":"ebpf2","abstract":"","description":"1. TC的几个概念 队列——qdisc(queueing discipline)，分为不可分类队列（classless qdisc）和可分类队列（classful qdisc）,一个qdisc会被分配一个主序列号，叫做句柄(handle...","title":"Run ebpf with tc","tags":[{"index":-1,"name":"TC","slug":"kwqg6YbWf","used":true,"link":"https://rexrock.github.io/tag/kwqg6YbWf/"},{"name":"eBPF","slug":"1emxgPk46","used":true,"link":"https://rexrock.github.io/tag/1emxgPk46/"}],"feature":"","link":"https://rexrock.github.io/post/ebpf2/","stats":{"text":"7 min read","time":403000,"words":1640,"minutes":7},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-tc%E7%9A%84%E5%87%A0%E4%B8%AA%E6%A6%82%E5%BF%B5\">1. TC的几个概念</a></li>\n<li><a href=\"#2-%E4%B8%BE%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84tc%E4%BE%8B%E5%AD%90\">2. 举个简单的TC例子</a>\n<ul>\n<li><a href=\"#21-%E5%88%9B%E5%BB%BA%E9%98%9F%E5%88%97\">2.1 创建队列</a></li>\n<li><a href=\"#22-%E5%88%9B%E5%BB%BA%E7%B1%BB%E5%88%AB\">2.2 创建类别</a></li>\n<li><a href=\"#23-%E5%88%9B%E5%BB%BA%E5%88%86%E7%B1%BB%E5%99%A8\">2.3 创建分类器</a></li>\n<li><a href=\"#24-ingress-qdisc\">2.4 ingress qdisc</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8tc%E7%9A%84ebpf%E5%8A%9F%E8%83%BD\">3. 如何使用tc的ebpf功能</a></li>\n<li><a href=\"#4-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5\">4. 最佳实践</a></li>\n</ul>\n</li>\n</ul>\n","date":"2021-03-03 10:32:00","dateFormat":"2021-03-03"},{"fileName":"ebpf1","abstract":"","description":"1. 不能使用循环语句 eBPF程序中不能使用循环语句，如果非要使用循环，则必须通过编译选项“#pragma clang loop unroll(full)”让编译器在编译过程中将循环展开。 此外必须要注意的一点是，循环中的语句必须是单一且...","title":"eBPF的使用限制","tags":[{"name":"eBPF","slug":"1emxgPk46","used":true,"link":"https://rexrock.github.io/tag/1emxgPk46/"}],"feature":"","link":"https://rexrock.github.io/post/ebpf1/","stats":{"text":"2 min read","time":98000,"words":422,"minutes":2},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E4%B8%8D%E8%83%BD%E4%BD%BF%E7%94%A8%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5\">1. 不能使用循环语句</a></li>\n<li><a href=\"#2-map%E6%93%8D%E4%BD%9C%E7%9A%84%E5%8E%9F%E5%AD%90%E6%80%A7\">2. map操作的原子性</a></li>\n</ul>\n</li>\n</ul>\n","date":"2021-03-03 10:31:00","dateFormat":"2021-03-03"},{"fileName":"k8s-net-sriov","abstract":"","description":"sriov-network-device-plugin需基于multus/danm和srioc-cni，所以我们依次安装multus、sriov-cni、sriov-network-device-plugin。 1. 安装Multus Mu...","title":"玩转sriov-network-device-plugin","tags":[{"index":-1,"name":"SRIOV","slug":"w1Rvw2p6z","used":true,"link":"https://rexrock.github.io/tag/w1Rvw2p6z/"},{"name":"K8S-NET","slug":"IAbZBeTqj","used":true,"link":"https://rexrock.github.io/tag/IAbZBeTqj/"}],"feature":"","link":"https://rexrock.github.io/post/k8s-net-sriov/","stats":{"text":"6 min read","time":347000,"words":1192,"minutes":6},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#1-%E5%AE%89%E8%A3%85multus\">1. 安装Multus</a></li>\n<li><a href=\"#2-%E5%AE%89%E8%A3%85sriov-cni\">2. 安装sriov-cni</a></li>\n<li><a href=\"#3-%E5%AE%89%E8%A3%85sriov-network-device-plugin\">3. 安装sriov-network-device-plugin</a></li>\n</ul>\n","date":"2021-03-03 10:25:00","dateFormat":"2021-03-03"},{"fileName":"cilium2","abstract":"","description":"1. Cilium datapath的组成 1.1 Cilium中的流量劫持点 所以流量劫持从prog类型上可以分为： 内核层面基于sock的流量劫持，主要用于lb（k8s-proxy）; 基于端口流量劫持，实现整个datapath的替...","title":"Cilium datapath梳理","tags":[{"index":-1,"name":"Cilium","slug":"Xcfbupjum","used":true,"link":"https://rexrock.github.io/tag/Xcfbupjum/"},{"name":"eBPF","slug":"1emxgPk46","used":true,"link":"https://rexrock.github.io/tag/1emxgPk46/"}],"feature":"","link":"https://rexrock.github.io/post/cilium2/","stats":{"text":"6 min read","time":313000,"words":983,"minutes":6},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-cilium-datapath%E7%9A%84%E7%BB%84%E6%88%90\">1. Cilium datapath的组成</a>\n<ul>\n<li><a href=\"#11-cilium%E4%B8%AD%E7%9A%84%E6%B5%81%E9%87%8F%E5%8A%AB%E6%8C%81%E7%82%B9\">1.1 Cilium中的流量劫持点</a></li>\n<li><a href=\"#12-cilium%E4%B8%ADebpf-map%E7%9A%84%E6%9E%84%E6%88%90\">1.2 Cilium中ebpf map的构成</a></li>\n</ul>\n</li>\n<li><a href=\"#2-cilium-datapath%E5%8A%A0%E8%BD%BD%E6%B5%81%E7%A8%8B\">2. Cilium datapath加载流程</a>\n<ul>\n<li><a href=\"#21-%E5%85%AC%E5%85%B1ebpf-map%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96\">2.1 公共ebpf map的初始化</a></li>\n<li><a href=\"#22-%E5%9F%BA%E7%A1%80%E7%BD%91%E7%BB%9C%E6%9E%84%E5%BB%BAinitsh\">2.2 基础网络构建(init.sh)</a>\n<ul>\n<li><a href=\"#221-%E5%88%9D%E5%A7%8B%E5%8C%96%E5%8F%82%E6%95%B0\">2.2.1 初始化参数</a></li>\n<li><a href=\"#222-%E5%85%B7%E4%BD%93%E5%B7%A5%E4%BD%9C\">2.2.2 具体工作</a></li>\n</ul>\n</li>\n<li><a href=\"#23-%E5%89%A9%E4%BD%99%E7%9A%84%E5%88%9D%E5%A7%8B%E5%8C%96%E5%B7%A5%E4%BD%9C\">2.3 剩余的初始化工作</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2021-03-03 10:23:00","dateFormat":"2021-03-03"},{"fileName":"cilium1","abstract":"","description":"1. Cilium工作模式 官网： https://docs.cilium.io/en/v1.8/concepts/networking/routing/ Cilium也分为overlay和underlay两种工作模式： overlay...","title":"Cilium简介","tags":[{"index":-1,"name":"Cilium","slug":"Xcfbupjum","used":true,"link":"https://rexrock.github.io/tag/Xcfbupjum/"},{"name":"K8S-NET","slug":"IAbZBeTqj","used":true,"link":"https://rexrock.github.io/tag/IAbZBeTqj/"}],"feature":"","link":"https://rexrock.github.io/post/cilium1/","stats":{"text":"4 min read","time":233000,"words":888,"minutes":4},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-cilium%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F\">1. Cilium工作模式</a></li>\n<li><a href=\"#2-%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%BC%8F\">2. 路由模式</a>\n<ul>\n<li><a href=\"#21-cilium%E9%83%A8%E7%BD%B2\">2.1 Cilium部署</a></li>\n<li><a href=\"#22-kube-router%E9%83%A8%E7%BD%B2\">2.2 kube-router部署</a></li>\n</ul>\n</li>\n<li><a href=\"#3-vxlan%E6%A8%A1%E5%BC%8F\">3. VXLAN模式</a></li>\n</ul>\n</li>\n</ul>\n","date":"2021-03-03 10:22:00","dateFormat":"2021-03-03"},{"fileName":"k8s-net1","abstract":"","description":"1. Flannel Flannel是CoreOS维护的一个网络组件，Flannel为每个Pod提供全局唯一的IP，Flannel使用ETCD来存储Pod子网与Node IP之间的关系。flanneld守护进程在每台主机上运行，并负责维护E...","title":"Flannel和Calico简介","tags":[{"name":"K8S-NET","slug":"IAbZBeTqj","used":true,"link":"https://rexrock.github.io/tag/IAbZBeTqj/"}],"feature":"","link":"https://rexrock.github.io/post/k8s-net1/","stats":{"text":"4 min read","time":231000,"words":948,"minutes":4},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-flannel\">1. Flannel</a>\n<ul>\n<li><a href=\"#11-flannel%E9%83%A8%E7%BD%B2\">1.1 Flannel部署</a></li>\n<li><a href=\"#12-hos-gw%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F\">1.2 hos-gw工作模式</a></li>\n<li><a href=\"#13-vxlan%E6%A8%A1%E5%BC%8F\">1.3 vxlan模式</a></li>\n</ul>\n</li>\n<li><a href=\"#2-calico\">2. Calico</a>\n<ul>\n<li><a href=\"#21-calico%E9%83%A8%E7%BD%B2\">2.1 Calico部署</a></li>\n<li><a href=\"#22-bgp%E6%A8%A1%E5%BC%8F\">2.2 BGP模式</a></li>\n<li><a href=\"#23-ip-tunnel%E6%A8%A1%E5%BC%8F\">2.3 IP Tunnel模式</a></li>\n<li><a href=\"#24-vxlan%E6%A8%A1%E5%BC%8F\">2.4 Vxlan模式</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2021-03-03 10:21:00","dateFormat":"2021-03-03"},{"fileName":"nic1","abstract":"","description":"1. 测试拓扑 2. 配置脚本 1）添加network namespace ip netns add net1 ip netns add net2 ip netns add net3 2）将VF添加到对应netns ip link set...","title":"验证网卡PCIe带宽","tags":[{"name":"网卡","slug":"mO5uxDDTC1","used":true,"link":"https://rexrock.github.io/tag/mO5uxDDTC1/"}],"feature":"","link":"https://rexrock.github.io/post/nic1/","stats":{"text":"2 min read","time":90000,"words":270,"minutes":2},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E6%B5%8B%E8%AF%95%E6%8B%93%E6%89%91\">1. 测试拓扑</a></li>\n<li><a href=\"#2-%E9%85%8D%E7%BD%AE%E8%84%9A%E6%9C%AC\">2. 配置脚本</a></li>\n<li><a href=\"#3-%E5%B8%A6%E5%AE%BD%E6%B5%8B%E8%AF%95\">3. 带宽测试</a></li>\n</ul>\n</li>\n</ul>\n","date":"2020-12-15 17:31:00","dateFormat":"2020-12-15"},{"fileName":"rdma1","abstract":"","description":"1. 连接管理 通过rdmacm实现连接管理： Socket既管理连接又管理传输； RDMACM只管理连接，数据传输下面再介绍； 2. 数据传输 RDMA的三种数据传输模式： 双边操作—Send/Receive，收发端都参与才能完成...","title":"RDMA编程模型","tags":[{"name":"RDMA","slug":"GnXUlT2Sn","used":true,"link":"https://rexrock.github.io/tag/GnXUlT2Sn/"}],"feature":"","link":"https://rexrock.github.io/post/rdma1/","stats":{"text":"3 min read","time":149000,"words":659,"minutes":3},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E8%BF%9E%E6%8E%A5%E7%AE%A1%E7%90%86\">1. 连接管理</a></li>\n<li><a href=\"#2-%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93\">2. 数据传输</a>\n<ul>\n<li><a href=\"#21-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E9%9C%80%E8%A6%81%E7%9A%84qp-cq\">2.1 创建数据传输需要的QP、CQ</a></li>\n<li><a href=\"#22-%E5%88%9B%E5%BB%BAqp%E7%9A%84%E5%A5%91%E6%9C%BA\">2.2 创建QP的契机</a></li>\n<li><a href=\"#23-%E4%BC%A0%E8%BE%93%E4%B9%8Bsendreceive\">2.3 传输之send/receive</a></li>\n<li><a href=\"#25-%E4%BC%A0%E8%BE%93%E4%B9%8Bwriteread\">2.5 传输之write/read</a></li>\n<li><a href=\"#26-%E4%BC%A0%E8%BE%93%E4%B9%8Bwrite_with_immediate\">2.6 传输之write_with_immediate</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E6%80%BB%E7%BB%93\">3. 总结</a></li>\n</ul>\n</li>\n</ul>\n","date":"2020-03-27 12:31:00","dateFormat":"2020-03-27"},{"fileName":"openstack1","abstract":"","description":"1. Mysql安装 参考：https://cloud.tencent.com/developer/article/1329000 登录mysql： # mysql -u root -p # show databases; # use my...","title":"openstack环境搭建","tags":[{"name":"OPENSTACK","slug":"Mu77ZirBgu","used":true,"link":"https://rexrock.github.io/tag/Mu77ZirBgu/"}],"feature":"","link":"https://rexrock.github.io/post/openstack1/","stats":{"text":"3 min read","time":135000,"words":438,"minutes":3},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-mysql%E5%AE%89%E8%A3%85\">1. Mysql安装</a></li>\n<li><a href=\"#2-keystone%E5%AE%89%E8%A3%85\">2. Keystone安装</a>\n<ul>\n<li><a href=\"#21-%E9%80%89%E5%8F%96openstack%E7%89%88%E6%9C%AC\">2.1 选取openstack版本</a></li>\n<li><a href=\"#22-%E9%85%8D%E7%BD%AEkeystone%E6%95%B0%E6%8D%AE%E5%BA%93\">2.2 配置keystone数据库</a></li>\n<li><a href=\"#23-%E5%AE%89%E8%A3%85keystone\">2.3 安装keystone</a></li>\n<li><a href=\"#24-%E6%A0%87%E8%AE%B0keystone%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\">2.4 标记keystone配置文件</a></li>\n<li><a href=\"#25-%E5%88%9D%E5%A7%8B%E5%8C%96\">2.5 初始化</a></li>\n<li><a href=\"#26-%E9%85%8D%E7%BD%AEapache-http-server\">2.6 配置apache http server</a></li>\n<li><a href=\"#27-%E5%90%AF%E5%8A%A8%E6%9C%8D%E5%8A%A1%E5%B9%B6%E9%AA%8C%E8%AF%81\">2.7 启动服务并验证</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2020-03-03 12:31:00","dateFormat":"2020-03-03"},{"fileName":"vhu1","abstract":"","description":"1. virtio的ring结构 Virtio设备是支持多队列，每个队列由结构vring_virtqueue定义（可以是收包队列也可以是发包队列），而每个vring_virtqueue中都定义了一个vring结构，负责具体的数据传输。 //...","title":"深入浅出vhostuser传输模型","tags":[{"index":-1,"name":"VIRTIO","slug":"a860if7hz","used":true,"link":"https://rexrock.github.io/tag/a860if7hz/"}],"feature":"","link":"https://rexrock.github.io/post/vhu1/","stats":{"text":"19 min read","time":1117000,"words":4363,"minutes":19},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-virtio%E7%9A%84ring%E7%BB%93%E6%9E%84\">1. virtio的ring结构</a></li>\n<li><a href=\"#2-%E5%B0%86vring%E6%98%A0%E5%B0%84%E5%88%B0vhostuser\">2. 将vring映射到vhostuser</a></li>\n<li><a href=\"#3-guest%E5%90%91%E5%A4%96%E5%8F%91%E5%8C%85\">3. Guest向外发包</a></li>\n<li><a href=\"#4-guest%E4%BB%8E%E5%A4%96%E9%9D%A2%E6%94%B6%E5%8C%85\">4. Guest从外面收包</a></li>\n<li><a href=\"#5-vhost%E4%BB%8Eguest%E6%94%B6%E5%8C%85\">5. Vhost从Guest收包</a></li>\n<li><a href=\"#6-vhost%E5%90%91guest%E5%8F%91%E5%8C%85\">6. Vhost向Guest发包</a></li>\n<li><a href=\"#7-virtio%E7%9A%84%E5%89%8D%E5%90%8E%E7%AB%AF%E9%80%9A%E7%9F%A5%E6%9C%BA%E5%88%B6\">7. Virtio的前后端通知机制</a></li>\n</ul>\n</li>\n</ul>\n","date":"2020-03-03 12:31:00","dateFormat":"2020-03-03"},{"fileName":"dpdk1","abstract":"","description":"1. 测试环境说明 网卡：Mellanox cx4/cx5 驱动：OFED 4.3/4.5/5.3 DPDK： 18.05、18.11 拓扑： 2. 初始化配置网络 由于是使用VF测试，所以不依赖外部环境，也不依赖物理网口的link状态，...","title":"使用testpmd验证CX5网卡rte_flow功能","tags":[{"name":"DPDK","slug":"puD7_23Sm9","used":true,"link":"https://rexrock.github.io/tag/puD7_23Sm9/"}],"feature":"","link":"https://rexrock.github.io/post/dpdk1/","stats":{"text":"8 min read","time":466000,"words":1360,"minutes":8},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83%E8%AF%B4%E6%98%8E\">1. 测试环境说明</a></li>\n<li><a href=\"#2-%E5%88%9D%E5%A7%8B%E5%8C%96%E9%85%8D%E7%BD%AE%E7%BD%91%E7%BB%9C\">2. 初始化配置网络</a></li>\n<li><a href=\"#3-%E7%BC%96%E8%AF%91testpmd\">3. 编译testpmd</a></li>\n<li><a href=\"#4-%E5%90%AF%E5%8A%A8testpmd%E5%B9%B6%E9%85%8D%E7%BD%AE%E8%BD%AC%E5%8F%91\">4. 启动testpmd并配置转发</a>\n<ul>\n<li><a href=\"#41-%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4\">4.1 启动命令</a></li>\n<li><a href=\"#42-%E8%BD%AC%E5%8F%91%E9%85%8D%E7%BD%AE\">4.2 转发配置</a></li>\n</ul>\n</li>\n<li><a href=\"#5-%E5%88%9B%E5%BB%BArte_flow%E8%A7%84%E5%88%99%E5%B9%B6%E9%AA%8C%E8%AF%81\">5. 创建RTE_FLOW规则并验证</a></li>\n</ul>\n</li>\n</ul>\n","date":"2019-11-07 17:31:00","dateFormat":"2019-11-07"},{"fileName":"bgpd1","abstract":"","description":" 启动和关闭BGP bgpd(config)# router bgp asn bgpd(config)# no router bgp asn asn即自治系统的ID，asn对于bgp协议来说是必要的，因为asn要通过asn来判断两个BG...","title":" QUAGGA ZEBRA : bgpd","tags":[{"name":"动态路由","slug":"yRSJEIxMyO","used":true,"link":"https://rexrock.github.io/tag/yRSJEIxMyO/"}],"feature":"","link":"https://rexrock.github.io/post/bgpd1/","stats":{"text":"1 min read","time":48000,"words":194,"minutes":1},"isTop":false,"toc":"","date":"2014-10-16 12:31:00","dateFormat":"2014-10-16"},{"fileName":"ospfd1","abstract":"","description":"1. 运行和终止ospfd ospfd(config)# router ospf ospfd(config)# no router ospf 2. 配置router id ospfd(config-router)# ospf router...","title":" QUAGGA ZEBRA : ospfd","tags":[{"name":"动态路由","slug":"yRSJEIxMyO","used":true,"link":"https://rexrock.github.io/tag/yRSJEIxMyO/"}],"feature":"","link":"https://rexrock.github.io/post/ospfd1/","stats":{"text":"3 min read","time":150000,"words":519,"minutes":3},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E8%BF%90%E8%A1%8C%E5%92%8C%E7%BB%88%E6%AD%A2ospfd\">1. 运行和终止ospfd</a></li>\n<li><a href=\"#2-%E9%85%8D%E7%BD%AErouter-id\">2. 配置router id</a></li>\n<li><a href=\"#3-%E5%85%BC%E5%AE%B9rfc1583%E7%9A%84%E5%BC%80%E5%85%B3\">3. 兼容RFC1583的开关</a></li>\n<li><a href=\"#4-%E9%85%8D%E7%BD%AE%E6%8E%A5%E5%8F%A3%E5%A4%84%E4%BA%8E%E8%A2%AB%E5%8A%A8%E6%A8%A1%E5%BC%8F\">4. 配置接口处于被动模式</a></li>\n<li><a href=\"#5-%E8%AE%BE%E7%BD%AE%E7%AE%A1%E7%90%86%E8%B7%9D%E7%A6%BB\">5. 设置管理距离</a></li>\n<li><a href=\"#6-%E5%88%9B%E5%BB%BAospf%E5%8C%BA%E5%9F%9F\">6. 创建OSPF区域</a></li>\n<li><a href=\"#7-%E8%AE%BE%E7%BD%AE%E8%99%9A%E8%BF%9E%E6%8E%A5\">7. 设置虚连接</a></li>\n<li><a href=\"#8-%E5%A4%96%E9%83%A8%E8%B7%AF%E7%94%B1%E7%9A%84metric%E8%AF%B4%E6%98%8E\">8. 外部路由的Metric说明</a></li>\n</ul>\n</li>\n</ul>\n","date":"2014-10-13 12:31:00","dateFormat":"2014-10-13"},{"fileName":"ripd1","abstract":"","description":"1. 运行和终止ripd # zebra -d # ripd -d 由于rip协议需要的接口信息都保存在守护进程zebra中，所以运行ripd之前一定要先运行zebra。 kill ‘cat /var/run/ripd...","title":"QUAGGA ZEBRA : ripd","tags":[{"name":"动态路由","slug":"yRSJEIxMyO","used":true,"link":"https://rexrock.github.io/tag/yRSJEIxMyO/"}],"feature":"","link":"https://rexrock.github.io/post/ripd1/","stats":{"text":"7 min read","time":396000,"words":1674,"minutes":7},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E8%BF%90%E8%A1%8C%E5%92%8C%E7%BB%88%E6%AD%A2ripd\">1. 运行和终止ripd</a></li>\n<li><a href=\"#2-%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86\">2. 信号处理</a></li>\n<li><a href=\"#3-%E5%BC%80%E5%90%AF%E5%85%B3%E9%97%ADrip\">3. 开启关闭RIP</a></li>\n<li><a href=\"#4-%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%9D%A5%E5%8F%91%E9%80%81%E5%92%8C%E6%8E%A5%E6%94%B6rip%E6%95%B0%E6%8D%AE%E5%8C%85%E7%9A%84%E6%8E%A5%E5%8F%A3\">4. 设置用来发送和接收RIP数据包的接口</a>\n<ul>\n<li><a href=\"#41-%E9%80%9A%E8%BF%87%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%AE%BE%E7%BD%AE\">4.1 通过网络地址设置</a></li>\n<li><a href=\"#42-%E9%80%9A%E8%BF%87%E7%BD%91%E5%8F%A3%E5%90%8D%E7%A7%B0%E8%AE%BE%E7%BD%AE\">4.2 通过网口名称设置</a></li>\n</ul>\n</li>\n<li><a href=\"#5-%E6%8C%87%E5%AE%9A%E9%82%BB%E5%B1%85\">5. 指定邻居</a></li>\n<li><a href=\"#6-%E8%AE%BE%E7%BD%AE%E8%A2%AB%E5%8A%A8%E6%8E%A5%E5%8F%A3\">6. 设置被动接口</a></li>\n<li><a href=\"#7-%E8%AE%BE%E7%BD%AE%E6%B0%B4%E5%B9%B3%E5%88%86%E5%89%B2%E5%92%8C%E5%B8%A6%E6%AF%92%E6%80%A7%E9%80%86%E8%BD%AC%E7%9A%84%E6%B0%B4%E5%B9%B3%E5%88%86%E5%89%B2\">7. 设置水平分割和带毒性逆转的水平分割</a></li>\n<li><a href=\"#8-%E5%85%A8%E5%B1%80%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6\">8. 全局版本控制</a></li>\n<li><a href=\"#9-%E6%8E%A5%E5%8F%A3%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6\">9. 接口版本控制</a></li>\n<li><a href=\"#10-%E8%AE%BE%E7%BD%AE%E5%AE%9A%E6%97%B6%E5%99%A8\">10. 设置定时器</a>\n<ul>\n<li><a href=\"#101-rip%E5%8D%8F%E8%AE%AE%E6%9C%89%E5%87%A0%E4%B8%AA%E5%AE%9A%E6%97%B6%E5%99%A8\">10.1 rip协议有几个定时器</a></li>\n<li><a href=\"#102-%E6%8A%91%E5%88%B6%E8%AE%A1%E6%97%B6%E5%99%A8%E4%BB%8B%E7%BB%8D\">10.2 抑制计时器介绍</a></li>\n</ul>\n</li>\n<li><a href=\"#11-%E8%AE%BE%E7%BD%AE%E7%AE%A1%E7%90%86%E8%B7%9D%E7%A6%BB\">11. 设置管理距离</a></li>\n<li><a href=\"#12-ripv2%E7%9A%84%E8%AE%A4%E8%AF%81\">12. RIPV2的认证</a></li>\n</ul>\n</li>\n</ul>\n","date":"2014-10-10 12:31:00","dateFormat":"2014-10-10"},{"fileName":"netlink1","abstract":"","description":" include/linux/uio.h 其中nlmsg_flags用于设置消息标志，包括如下： include/linux/socket.h ...","title":"NETLINK中常用数据结构说明","tags":[{"name":"NETLINK","slug":"oHXpUvgEuE","used":true,"link":"https://rexrock.github.io/tag/oHXpUvgEuE/"},{"name":"KERNEL","slug":"qLwLbiQyIr","used":true,"link":"https://rexrock.github.io/tag/qLwLbiQyIr/"}],"feature":"","link":"https://rexrock.github.io/post/netlink1/","stats":{"text":"1 min read","time":6000,"words":23,"minutes":1},"isTop":false,"toc":"","date":"2013-09-23 12:31:00","dateFormat":"2013-09-23"},{"fileName":"memcached4","abstract":"","description":"memcached.h中规定key的长度要小于250byte slab（slab（value）的长度限制默认是1M，可以使用-I选项更改此限制value）的长度限制默认是1M，可以使用-I选项更改此限制 -I Ov...","title":"memcached的key和value大小的限制","tags":[{"name":"Memcached","slug":"yeofxHFf1F","used":true,"link":"https://rexrock.github.io/tag/yeofxHFf1F/"}],"feature":"","link":"https://rexrock.github.io/post/memcached4/","stats":{"text":"1 min read","time":33000,"words":121,"minutes":1},"isTop":false,"toc":"","date":"2013-09-02 12:34:00","dateFormat":"2013-09-02"},{"fileName":"memcached3","abstract":"","description":"Memcached的key一定不能有空格 1. 常用参数 memcached -m 64 -M -u root -d -l 127.0.0.1 -p 11211 -U 11212 # -m 指定缓存所使用的最大内存容量，单位是Megabyt...","title":"Memcached配置详细说明（包括协议说明）","tags":[{"name":"Memcached","slug":"yeofxHFf1F","used":true,"link":"https://rexrock.github.io/tag/yeofxHFf1F/"}],"feature":"","link":"https://rexrock.github.io/post/memcached3/","stats":{"text":"12 min read","time":669000,"words":3100,"minutes":12},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0\">1. 常用参数</a></li>\n<li><a href=\"#2-memcached%E7%9A%84%E5%91%BD%E4%BB%A4memcached%E6%9C%89%E4%B8%89%E7%A7%8D%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%91%BD%E4%BB%A4\">2. Memcached的命令（memcached有三种类型的命令）</a>\n<ul>\n<li><a href=\"#20-%E5%87%BA%E9%94%99%E4%BF%A1%E6%81%AF\">2.0 出错信息</a></li>\n<li><a href=\"#21-%E5%AD%98%E5%82%A8%E5%91%BD%E4%BB%A4\">2.1 存储命令</a></li>\n<li><a href=\"#22-%E8%AF%BB%E5%8F%96%E5%91%BD%E4%BB%A4\">2.2 读取命令</a></li>\n<li><a href=\"#23-%E5%88%A0%E9%99%A4%E5%91%BD%E4%BB%A4\">2.3 删除命令</a></li>\n<li><a href=\"#24-flush_all%E5%91%BD%E4%BB%A4\">2.4 flush_all命令</a></li>\n<li><a href=\"#25-incrdecr%E5%91%BD%E4%BB%A4\">2.5 incr/decr命令</a></li>\n<li><a href=\"#26-stats%E5%91%BD%E4%BB%A4\">2.6 stats命令</a></li>\n<li><a href=\"#27-quit%E5%91%BD%E4%BB%A4\">2.7 quit命令</a></li>\n<li><a href=\"#28-version%E5%91%BD%E4%BB%A4\">2.8 version命令</a></li>\n</ul>\n</li>\n<li><a href=\"#3-%E5%85%B3%E4%BA%8E%E9%80%9A%E4%BF%A1\">3. 关于通信</a>\n<ul>\n<li><a href=\"#31-%E5%8D%8F%E8%AE%AE\">3.1 协议</a></li>\n<li><a href=\"#32-%E5%85%B3%E9%94%AE%E5%AD%97-keys\">3.2 关键字 Keys</a></li>\n<li><a href=\"#33-udp%E5%8D%8F%E8%AE%AE\">3.3 UDP协议</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2013-09-02 12:33:00","dateFormat":"2013-09-02"},{"fileName":"memcached2","abstract":"","description":"首先通过看文档： 给客户端添加 server的函数主要是下面四个 说明如下： 简单翻译一下（直说前面 2个）： Memcached_ser_add() 函数添加一个 TCP的server 给memcached_st结构体，如果设置了 ...","title":"Libmemcached客户端UDP/UNIX Domain Sockeet使用方法","tags":[{"name":"Memcached","slug":"yeofxHFf1F","used":true,"link":"https://rexrock.github.io/tag/yeofxHFf1F/"}],"feature":"","link":"https://rexrock.github.io/post/memcached2/","stats":{"text":"3 min read","time":125000,"words":564,"minutes":3},"isTop":false,"toc":"","date":"2013-09-02 12:32:00","dateFormat":"2013-09-02"},{"fileName":"memcached1","abstract":"","description":"1. 下载 1.下载libevent 2.下载memcached 2.下载C语言客户端开发库libmemcached 2. 安装使用 1.libevent ./configure --prefix=/usr # &quot;如果没有指定安装...","title":"Memcached安装及使用","tags":[{"name":"Memcached","slug":"yeofxHFf1F","used":true,"link":"https://rexrock.github.io/tag/yeofxHFf1F/"}],"feature":"","link":"https://rexrock.github.io/post/memcached1/","stats":{"text":"2 min read","time":73000,"words":258,"minutes":2},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-%E4%B8%8B%E8%BD%BD\">1. 下载</a></li>\n</ul>\n</li>\n<li><a href=\"#2-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8\">2. 安装使用</a>\n<ul>\n<li><a href=\"#3-%E4%BD%BF%E7%94%A8\">3. 使用</a></li>\n<li><a href=\"#4-memcached%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6\">4. memcached的配置文件</a></li>\n<li><a href=\"#5-%E6%B8%85%E7%A9%BAmemcached%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E6%B3%95\">5. 清空memcached数据的方法</a></li>\n</ul>\n</li>\n</ul>\n","date":"2013-09-02 12:31:00","dateFormat":"2013-09-02"},{"fileName":"pam2","abstract":"","description":"1. Pam应用程序开发 任何一个支持PAM的应用程序在进行认证时必须以pam_start( )开始进行初始化，最后以pam_end( )结束。 1.1 pam_start() #include &lt;security/pam_appl....","title":"PAMk开发","tags":[{"name":"PAM","slug":"5e9-yE8rL-","used":true,"link":"https://rexrock.github.io/tag/5e9-yE8rL-/"}],"feature":"","link":"https://rexrock.github.io/post/pam2/","stats":{"text":"12 min read","time":674000,"words":2966,"minutes":12},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-pam%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91\">1. Pam应用程序开发</a>\n<ul>\n<li><a href=\"#11-pam_start\">1.1 pam_start()</a>\n<ul>\n<li><a href=\"#111-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3\">1.1.1 参数讲解</a></li>\n<li><a href=\"#112-%E8%BF%94%E5%9B%9E%E5%80%BC%E8%AE%B2%E8%A7%A3\">1.1.2 返回值讲解</a></li>\n</ul>\n</li>\n<li><a href=\"#12-pam_end\">1.2 pam_end()</a>\n<ul>\n<li><a href=\"#121-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3\">1.2.1 参数讲解</a></li>\n<li><a href=\"#122-%E8%BF%94%E5%9B%9E%E5%80%BC%E8%AE%B2%E8%A7%A3\">1.2.2 返回值讲解</a></li>\n</ul>\n</li>\n<li><a href=\"#13-%E8%AE%A4%E8%AF%81%E7%AE%A1%E7%90%86pam_authenticate\">1.3 认证管理pam_authenticate()</a>\n<ul>\n<li><a href=\"#131-%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3\">1.3.1 参数讲解</a></li>\n<li><a href=\"#132-%E8%BF%94%E5%9B%9E%E5%80%BC%E8%AE%B2%E8%A7%A3\">1.3.2 返回值讲解</a></li>\n</ul>\n</li>\n<li><a href=\"#14-%E8%B4%A6%E6%88%B7%E7%AE%A1%E7%90%86pam_acct_mgmt\">1.4 账户管理pam_acct_mgmt()</a>\n<ul>\n<li><a href=\"#141%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3\">1.4.1参数讲解</a></li>\n<li><a href=\"#142%E8%BF%94%E5%9B%9E%E5%80%BC%E8%AE%B2%E8%A7%A3\">1.4.2返回值讲解</a></li>\n</ul>\n</li>\n<li><a href=\"#15-%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86pam_open_session\">1.5 会话管理pam_open_session()</a>\n<ul>\n<li><a href=\"#151%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3\">1.5.1参数讲解</a></li>\n<li><a href=\"#152%E8%BF%94%E5%9B%9E%E5%80%BC%E8%AE%B2%E8%A7%A3\">1.5.2返回值讲解</a></li>\n</ul>\n</li>\n<li><a href=\"#16%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86pam_close_session\">1.6会话管理pam_close_session()</a></li>\n<li><a href=\"#17%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86pam_chauthtok\">1.7密码管理pam_chauthtok()</a>\n<ul>\n<li><a href=\"#171%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3\">1.7.1参数讲解</a></li>\n<li><a href=\"#172%E8%BF%94%E5%9B%9E%E5%80%BC%E8%AE%B2%E8%A7%A3\">1.7.2返回值讲解</a></li>\n</ul>\n</li>\n<li><a href=\"#18%E8%AE%A4%E8%AF%81%E7%AE%A1%E7%90%86pam_setcred\">1.8认证管理pam_setcred()</a>\n<ul>\n<li><a href=\"#181%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3\">1.8.1参数讲解</a></li>\n<li><a href=\"#182%E8%BF%94%E5%9B%9E%E5%80%BC%E8%AE%B2%E8%A7%A3\">1.8.2返回值讲解</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#2-pam%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9D%97%E5%BC%80%E5%8F%91\">2. Pam服务模块开发</a>\n<ul>\n<li><a href=\"#21%E8%AE%A4%E8%AF%81%E7%AE%A1%E7%90%86pam_sm_authenticate\">2.1认证管理pam_sm_authenticate()</a>\n<ul>\n<li><a href=\"#211%E5%8F%82%E6%95%B0%E8%AE%B2%E8%A7%A3\">2.1.1参数讲解</a></li>\n<li><a href=\"#212%E8%BF%94%E5%9B%9E%E5%80%BC%E8%AE%B2%E8%A7%A3\">2.1.2返回值讲解</a></li>\n</ul>\n</li>\n<li><a href=\"#22%E8%B4%A6%E6%88%B7%E7%AE%A1%E7%90%86pam_sm_acct_mgmt\">2.2账户管理pam_sm_acct_mgmt()</a>\n<ul>\n<li><a href=\"#23%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86pam_sm_open_session\">2.3会话管理pam_sm_open_session()</a></li>\n<li><a href=\"#24%E4%BC%9A%E8%AF%9D%E7%AE%A1%E7%90%86pam_sm_close_session\">2.4会话管理pam_sm_close_session()</a></li>\n<li><a href=\"#25%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86pam_sm_chauthtok\">2.5密码管理pam_sm_chauthtok()</a></li>\n<li><a href=\"#26%E8%AE%A4%E8%AF%81%E7%AE%A1%E7%90%86pam_sm_setcred\">2.6认证管理pam_sm_setcred()</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"#3-pam%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91\">3. Pam配置文件编辑</a></li>\n</ul>\n</li>\n</ul>\n","date":"2013-08-26 12:32:00","dateFormat":"2013-08-26"},{"fileName":"pam1","abstract":"","description":"1. Pam概述 PAM（Pluggable Authentication Modules ）是由Sun提出的一种认证机制。它通过提供一些动态链接库和一套统一的API，将系统提供的服务和该服务的认证方式分开，使得系统管理员可以灵活地根据需要...","title":"PAM介绍","tags":[{"name":"PAM","slug":"5e9-yE8rL-","used":true,"link":"https://rexrock.github.io/tag/5e9-yE8rL-/"}],"feature":"","link":"https://rexrock.github.io/post/pam1/","stats":{"text":"8 min read","time":426000,"words":1958,"minutes":8},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li>\n<ul>\n<li><a href=\"#1-pam%E6%A6%82%E8%BF%B0\">1. Pam概述</a></li>\n<li><a href=\"#2-pam%E6%A1%86%E6%9E%B6\">2. Pam框架</a></li>\n<li><a href=\"#3-pam%E6%9C%8D%E5%8A%A1%E6%A8%A1%E5%9D%97\">3. Pam服务模块</a></li>\n<li><a href=\"#4-pam%E5%BA%93\">4. Pam库</a></li>\n<li><a href=\"#5-pam%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6etcpamconf\">5. Pam配置文件（/etc/pam.conf）</a>\n<ul>\n<li><a href=\"#51-service-name\">5.1 service-name</a></li>\n<li><a href=\"#52-module-type\">5.2 module-type</a></li>\n<li><a href=\"#53-control-flag\">5.3 control-flag</a></li>\n<li><a href=\"#54-module-path\">5.4 module-path</a></li>\n<li><a href=\"#55-arguments%E6%AD%A4%E5%A4%84%E7%9A%84%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E7%BB%99spi%E5%AF%B9%E5%BA%94%E7%9D%80spi%E5%8F%82%E6%95%B0%E4%B8%AD%E7%9A%84-argc-%E5%92%8C-argv\">5.5 arguments（此处的参数传递给SPI,对应着SPI参数中的 argc 和 argv）</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","date":"2013-08-26 12:31:00","dateFormat":"2013-08-26"},{"fileName":"ass1","abstract":"","description":"C内嵌汇编实现hello world程序，手动执行ld进行静态链接，不依赖任何库 编译： gcc -c write.c -c : 编译和汇编，不进行链接 链接： ld -static -e main -o write ./write.o -...","title":"汇编实现hello world程序","tags":[{"name":"汇编","slug":"RYWUJj51tq","used":true,"link":"https://rexrock.github.io/tag/RYWUJj51tq/"}],"feature":"","link":"https://rexrock.github.io/post/ass1/","stats":{"text":"1 min read","time":53000,"words":166,"minutes":1},"isTop":false,"toc":"","date":"2013-03-22 12:31:00","dateFormat":"2013-03-22"}],"tags":[{"name":"K8S-NET，OVN","slug":"3AW1N_bqg","used":true,"link":"https://rexrock.github.io/tag/3AW1N_bqg/","count":1},{"name":"Firmware","slug":"iJaBbvbdGn","used":true,"link":"https://rexrock.github.io/tag/iJaBbvbdGn/","count":1},{"name":"Linux","slug":"XfTrCXKyh","used":true,"link":"https://rexrock.github.io/tag/XfTrCXKyh/","count":1},{"name":"RPM","slug":"xuHKBCoat1","used":true,"link":"https://rexrock.github.io/tag/xuHKBCoat1/","count":1},{"index":-1,"name":"XDP","slug":"37FuJFu1i","used":true,"link":"https://rexrock.github.io/tag/37FuJFu1i/","count":3},{"name":"eBPF","slug":"1emxgPk46","used":true,"link":"https://rexrock.github.io/tag/1emxgPk46/","count":6},{"index":-1,"name":"K8S","slug":"SNvVFY1lM","used":true,"link":"https://rexrock.github.io/tag/SNvVFY1lM/","count":3},{"index":-1,"name":"TC","slug":"kwqg6YbWf","used":true,"link":"https://rexrock.github.io/tag/kwqg6YbWf/","count":1},{"index":-1,"name":"SRIOV","slug":"w1Rvw2p6z","used":true,"link":"https://rexrock.github.io/tag/w1Rvw2p6z/","count":1},{"name":"K8S-NET","slug":"IAbZBeTqj","used":true,"link":"https://rexrock.github.io/tag/IAbZBeTqj/","count":3},{"index":-1,"name":"Cilium","slug":"Xcfbupjum","used":true,"link":"https://rexrock.github.io/tag/Xcfbupjum/","count":2},{"name":"网卡","slug":"mO5uxDDTC1","used":true,"link":"https://rexrock.github.io/tag/mO5uxDDTC1/","count":1},{"name":"RDMA","slug":"GnXUlT2Sn","used":true,"link":"https://rexrock.github.io/tag/GnXUlT2Sn/","count":1},{"name":"OPENSTACK","slug":"Mu77ZirBgu","used":true,"link":"https://rexrock.github.io/tag/Mu77ZirBgu/","count":1},{"index":-1,"name":"VIRTIO","slug":"a860if7hz","used":true,"link":"https://rexrock.github.io/tag/a860if7hz/","count":1},{"name":"DPDK","slug":"puD7_23Sm9","used":true,"link":"https://rexrock.github.io/tag/puD7_23Sm9/","count":1},{"name":"动态路由","slug":"yRSJEIxMyO","used":true,"link":"https://rexrock.github.io/tag/yRSJEIxMyO/","count":3},{"name":"NETLINK","slug":"oHXpUvgEuE","used":true,"link":"https://rexrock.github.io/tag/oHXpUvgEuE/","count":1},{"name":"KERNEL","slug":"qLwLbiQyIr","used":true,"link":"https://rexrock.github.io/tag/qLwLbiQyIr/","count":1},{"name":"Memcached","slug":"yeofxHFf1F","used":true,"link":"https://rexrock.github.io/tag/yeofxHFf1F/","count":4},{"name":"PAM","slug":"5e9-yE8rL-","used":true,"link":"https://rexrock.github.io/tag/5e9-yE8rL-/","count":2},{"name":"汇编","slug":"RYWUJj51tq","used":true,"link":"https://rexrock.github.io/tag/RYWUJj51tq/","count":1}],"menus":[{"link":"/","name":"首页","openType":"Internal"},{"link":"/archives","name":"归档","openType":"Internal"},{"link":"/tags","name":"标签","openType":"Internal"},{"link":"/post/about","name":"关于","openType":"Internal"}],"themeConfig":{"themeName":"pure","postPageSize":10,"archivesPageSize":50,"siteName":"REXROCK","siteDescription":"每天进步一点点","footerInfo":"Powered by <a href=\"https://github.com/getgridea/gridea\" target=\"_blank\">Gridea</a>","showFeatureImage":true,"domain":"https://rexrock.github.io","postUrlFormat":"SLUG","tagUrlFormat":"SHORT_ID","dateFormat":"YYYY-MM-DD","feedFullText":true,"feedCount":10,"archivesPath":"archives","postPath":"post","tagPath":"tag"},"customConfig":{"APP_ID":"","APP_KEY":"","about":"","avatar":"","caf":"#84fab0","ccf":"#5f6169","ccs":"#999fa7","ctf":"#ffffff","cts":"#dddddd","customCss":"","descfriend":"","dribbble":"","facebook":"","friends":[],"ga":"","github":"","isEnabledCustomColor":false,"pageSize":"5","placeholder":"Just Go Go","recordIp":false,"skin":"black","twitter":"","vMaxWidth":"1000","vPadding":"2.5%","vPercentWidth":"100","valine":false,"visitor":false,"weibo":"","zhihu":""},"utils":{"now":1705030317027}}
